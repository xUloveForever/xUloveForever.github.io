{"meta":{"title":"槐根梦觉 | 苦尽甘来","subtitle":"","description":"","author":"xUloveForever","url":"https://xuloveforever.github.io","root":"/"},"pages":[{"title":"404 Not Found","date":"2020-04-30T04:29:44.951Z","updated":"2020-04-30T04:29:44.951Z","comments":true,"path":"404.html","permalink":"https://xuloveforever.github.io/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"所有分类","date":"2020-04-30T06:22:36.433Z","updated":"2020-04-30T06:22:36.433Z","comments":true,"path":"categories/index.html","permalink":"https://xuloveforever.github.io/categories/index.html","excerpt":"","text":""},{"title":"关于","date":"2020-04-30T05:51:14.194Z","updated":"2020-04-30T05:51:14.194Z","comments":true,"path":"about/index.html","permalink":"https://xuloveforever.github.io/about/index.html","excerpt":"","text":"关于我的内容"},{"title":"我的朋友们","date":"2020-04-30T06:21:19.848Z","updated":"2020-04-30T06:21:19.848Z","comments":true,"path":"friends/index.html","permalink":"https://xuloveforever.github.io/friends/index.html","excerpt":"这里写友链上方的内容。","text":"这里写友链上方的内容。 这里可以写友链页面下方的文字备注，例如自己的友链规范、示例等。"},{"title":"","date":"2020-04-30T04:32:48.317Z","updated":"2020-04-30T04:32:48.317Z","comments":true,"path":"mylist/index.html","permalink":"https://xuloveforever.github.io/mylist/index.html","excerpt":"","text":""},{"title":"留言板","date":"2020-04-30T06:10:53.075Z","updated":"2020-04-30T06:10:53.075Z","comments":true,"path":"comments/index.html","permalink":"https://xuloveforever.github.io/comments/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2020-04-30T06:22:51.721Z","updated":"2020-04-30T06:22:51.721Z","comments":true,"path":"tags/index.html","permalink":"https://xuloveforever.github.io/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"docker数据管理","slug":"docker数据管理","date":"2020-05-06T13:47:10.000Z","updated":"2020-05-07T01:46:40.878Z","comments":true,"path":"2020/05/06/docker数据管理/","link":"","permalink":"https://xuloveforever.github.io/2020/05/06/docker%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/","excerpt":"对于Docker数据管理的学习","text":"对于Docker数据管理的学习 docker数据管理的作用 ​ 1.对数据进行持久化 ​ 2.在多个容器之间进行数据共享 docker中管理数据的两种方式 ​ 1.数据卷：容器内数据直接映射到宿主机环境 ​ 2.数据卷容器：使用特定的容器维护数据卷 一、数据卷 ​ 它是一个可以供容器使用的特殊目录，它将主机操作系统目录直接映射进器，类似于Linux中的mount ​ 特性 * 可以在容器之间共享和重用，容器间传递数据将变得高效与方便 * 对数据卷数据的修改会立马生效，无论是容器内操作还是宿主机中 * 对数据卷的更新不会影响镜像，解耦开应用和数据 * 卷会一直存在，直到没有容器使用，可以安全地卸载它​ 创建数据卷 ​ 使用volume命令来管理数据卷，下面创建方式在/var/lib/docker/volumes文件夹下： docker volume create -d local test ​ 该命令支持参数：inspect(查看详细信息)、ls、prune(清理无用数据卷)、rm ​ 绑定数据卷 ​ 在创建容器时将主机本地的任意路径挂载到容器内作为数据卷 ​ 创建使用-mount参数来使用，等同于旧的-v参数 ​ -mount参数支持三种类型的数据卷： volume：普通数据卷，映射到主机/var/lib/docker/volumes路径下 bind：绑定数据卷，映射到主机指定路径下 tmpfs：临时数据卷，只存在于内存中 二、数据卷容器 ​ 目的：专门提供数据卷给其他容器挂载 ​ 1.先创建一个数据卷容器 docker run -it -v /dbdata --name dbdata ubuntu ​ 2.在其他容器中使用-volumes-from来挂载dbdata容器中的数据卷 docker run -it --volumes-from dbdata --name db1 ubuntu docker run -d --name db2--volumes-from db1 training/postgres ​ 注意：如果删除了挂载的容器，数据卷并不会被自动删除，如果要删除一个数据卷，必须在删除最后一个还挂载着它的容器时显示的使用docker rm -v命令来指定同时删除关联的容器 三、使用数据卷容器迁移数据 ​ 1.备份 ​ docker run --voluumes-from dbdata -v $(pwd):/backup --name worker ubuntu tar cvf /backup/back.tar /dbdata ​ 2.恢复 ​ 首先创建一个带有数据卷的容器dbdata2 docker run -v /dbdata --name dbdata2 ubuntu /bin/bash ​ 再创建另一个新的容器，挂载dbdata2的容器，并使用untar解压备份文件到所挂载的容器卷中： docker run --volumes-from dbdata2 -v $(pwd):/backup busybox tar xvf /backup/backup.tar","categories":[{"name":"Docker","slug":"Docker","permalink":"https://xuloveforever.github.io/categories/Docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://xuloveforever.github.io/tags/docker/"},{"name":"数据管理","slug":"数据管理","permalink":"https://xuloveforever.github.io/tags/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/"}]},{"title":"测试","slug":"测试","date":"2020-05-04T03:48:17.000Z","updated":"2020-05-07T00:45:16.083Z","comments":true,"path":"2020/05/04/测试/","link":"","permalink":"https://xuloveforever.github.io/2020/05/04/%E6%B5%8B%E8%AF%95/","excerpt":"这是一个测试页面","text":"这是一个测试页面 下面是文章内容","categories":[{"name":"测试","slug":"测试","permalink":"https://xuloveforever.github.io/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"学习","slug":"学习","permalink":"https://xuloveforever.github.io/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"生活","slug":"生活","permalink":"https://xuloveforever.github.io/tags/%E7%94%9F%E6%B4%BB/"}]},{"title":"notice","slug":"notice","date":"2020-04-30T06:58:57.000Z","updated":"2020-05-07T00:51:05.591Z","comments":true,"path":"2020/04/30/notice/","link":"","permalink":"https://xuloveforever.github.io/2020/04/30/notice/","excerpt":"网站还在建设中，敬请期待！！！","text":"网站还在建设中，敬请期待！！！ 下面是文章内容","categories":[],"tags":[]}],"categories":[{"name":"Docker","slug":"Docker","permalink":"https://xuloveforever.github.io/categories/Docker/"},{"name":"测试","slug":"测试","permalink":"https://xuloveforever.github.io/categories/%E6%B5%8B%E8%AF%95/"}],"tags":[{"name":"docker","slug":"docker","permalink":"https://xuloveforever.github.io/tags/docker/"},{"name":"数据管理","slug":"数据管理","permalink":"https://xuloveforever.github.io/tags/%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86/"},{"name":"学习","slug":"学习","permalink":"https://xuloveforever.github.io/tags/%E5%AD%A6%E4%B9%A0/"},{"name":"生活","slug":"生活","permalink":"https://xuloveforever.github.io/tags/%E7%94%9F%E6%B4%BB/"}]}